<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Mash Petitions</title>
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-3dkvEK0WLHRJ7/Csr0BZjAWxERc5WH7bdeUya2aXxdU= sha512-+L4yy6FRcDGbXJ9mPG8MT/3UCDzwR9gPeyFNMCtInsol++5m3bk2bXWKdZjvybmohrAsn3Ua5x8gfLnbE1YkOg==" crossorigin="anonymous">
  <link href="//cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" rel="stylesheet">
  <script src="//cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
  <style>
  body {
    padding: 0;
    margin: 0;
  }
  html, body, #map {
    height: 100%;
  }
  </style>
</head>
<body>
  <div id="map"></div>

  <script>
  var map = L.map('map').setView([54.525564, -3.921976], 6);

  L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors. Powered by <a href="http://mapit.mysociety.org/">MapIt</a>'
  }).addTo(map);

  var myStyle = {
      color: "#2196f3",
      opacity: 1
  };

  function onEachFeature(feature, layer) {
    layer.bindPopup("<b>" + feature.properties.name + "</b>" +
      "<p><i class=\"fa fa-user fa-fw\"></i> <a href=\"http://www.theyworkforyou.com" + feature.properties.url + "\">" + feature.properties.mp + "</a></p>" +
      "<p><i class=\"fa fa-certificate fa-fw\"></i> " + feature.properties.party + " Party</p>" +
      "<p><i class=\"fa fa-pencil fa-fw\"></i> " + feature.properties.signature_count + " signatures</p>");
  }

  var geojson = L.geoJson({{extents|safe}}, {style: myStyle, onEachFeature: onEachFeature}).addTo(map);

  //Center map view on geojson
  map.fitBounds(geojson.getBounds());
  </script>
</body>
</html>
